var _=(o,u,t)=>new Promise((m,c)=>{var d=a=>{try{r(t.next(a))}catch(n){c(n)}},l=a=>{try{r(t.throw(a))}catch(n){c(n)}},r=a=>a.done?m(a.value):Promise.resolve(a.value).then(d,l);r((t=t.apply(o,u)).next())});import{_ as g}from"./BasicForm.vue_vue_type_script_setup_true_lang-b5fd2c2d.js";import"./BasicForm.vue_vue_type_style_index_0_lang-1d0165cd.js";import{u as h}from"./useForm-d2875f1c.js";import{l as C,C as I,a as S,c as b}from"./index.js";import{C as x}from"./index-091b1c05.js";import{h as A}from"./header-55b09394.js";import{a as B}from"./account-57e5abfe.js";import{b as w}from"./data-15304551.js";import{u as y}from"./upload-94aa82ef.js";import{d as U,o as V,c as k,a6 as M,Z as N,a7 as R,a8 as p,l as s,u as e,$ as v,E,a2 as F,a3 as T}from"./vue-f7f38239.js";import{U as $,V as f}from"./antd-bebda08e.js";import"./index-6bb63bf0.js";import"./useWindowSizeFn-01ffbee2.js";import"./index-1b9aa1da.js";import"./uuid-31b8b5a4.js";import"./useSortable-9ec2a7be.js";import"./download-2647fd8d.js";import"./base64Conver-39fc0d26.js";import"./index-b34be3ab.js";import"./IconPicker.vue_vue_type_script_setup_true_lang-af62677b.js";import"./copyTextToClipboard-ad844e61.js";const G=o=>(F("data-v-73a9c434"),o=o(),T(),o),P={class:"change-avatar"},W=G(()=>v("div",{class:"mb-2"},"头像",-1)),Z=U({__name:"BaseSetting",setup(o){const{createMessage:u}=S(),t=C(),[m,{setFieldsValue:c}]=h({labelWidth:120,schemas:w,showActionButtonGroup:!1});V(()=>_(this,null,function*(){const a=yield B();c(a)}));const d=k(()=>{const{avatar:a}=t.getUserInfo;return a||A});function l({src:a,data:n}){const i=t.getUserInfo;i.avatar=a,t.setUserInfo(i)}function r(){u.success("更新成功！")}return(a,n)=>{const i=M("a-button");return N(),R(e(I),{title:"基本设置",canExpan:!1},{default:p(()=>[s(e($),{gutter:24},{default:p(()=>[s(e(f),{span:14},{default:p(()=>[s(e(g),{onRegister:e(m)},null,8,["onRegister"])]),_:1}),s(e(f),{span:10},{default:p(()=>[v("div",P,[W,s(e(x),{uploadApi:e(y),value:d.value,btnText:"更换头像",btnProps:{preIcon:"ant-design:cloud-upload-outlined"},onChange:l,width:"150"},null,8,["uploadApi","value"])])]),_:1})]),_:1}),s(i,{type:"primary",onClick:r},{default:p(()=>[E(" 更新基本信息 ")]),_:1})]),_:1})}}});const ua=b(Z,[["__scopeId","data-v-73a9c434"]]);export{ua as default};
