var f=(o,c,t)=>new Promise((n,s)=>{var l=e=>{try{a(t.next(e))}catch(i){s(i)}},r=e=>{try{a(t.throw(e))}catch(i){s(i)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(l,r);a((t=t.apply(o,c)).next())});import{_ as u}from"./index-f9546e03.js";import{bF as _,c as h}from"./index.js";import{g as v}from"./jobGradeType-e57de368.js";import{G as T}from"./antd-bebda08e.js";import{d as b,f as d,o as g,x as y,u as p,a6 as B,q as D,n as k,Z as L,_ as S,l as $}from"./vue-f7f38239.js";import"./useContextMenu-b66322cd.js";const w=b({name:"JobGradeTypeList",components:{BasicTree:u,Spin:T},emits:["select"],setup(o,{emit:c}){const t=d([]),n=d(!1),s=d(null);function l(){return f(this,null,function*(){n.value=!0,v().then(a=>{t.value=a,y(()=>{var e;p(t).length<10&&((e=p(s))==null||e.filterByLevel(1))})}).finally(()=>{n.value=!1})})}function r(a,e){const i=_(t.value,m=>m.id===a[0],{id:"id",pid:"pid",children:"children"});c("select",i)}return g(()=>{l()}),{treeData:t,treeLoading:n,basicTreeRef:s,handleSelect:r}}}),C={class:"bg-white m-4 mr-0 overflow-hidden"};function G(o,c,t,n,s,l){const r=B("BasicTree"),a=D("loading");return k((L(),S("div",C,[$(r,{title:"职级分类",toolbar:"",search:"",clickRowToExpand:!1,treeData:o.treeData,replaceFields:{key:"id",title:"name"},onSelect:o.handleSelect,ref:"basicTreeRef"},null,8,["treeData","onSelect"])])),[[a,o.treeLoading]])}const A=h(w,[["render",G]]);export{A as default};
