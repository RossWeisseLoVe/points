import{_ as T}from"./BasicTable.vue_vue_type_script_setup_true_lang-68f7da80.js";import"./TableImg.vue_vue_type_style_index_0_lang-c025c7d6.js";import{a as y}from"./BasicForm.vue_vue_type_style_index_0_lang-1d0165cd.js";import{u as B}from"./useTable-dd83d9cb.js";import{b as E,d as k}from"./group-57af0be4.js";import{c as R,d as $}from"./group.data-36b4110b.js";import U from"./GroupModal-a8e7356f.js";import w from"./SetAccountModal-e84ffc07.js";import D from"./SetAclModal-769cff56.js";import{b as h}from"./index-6bb63bf0.js";import{A as P}from"./index-17e4a920.js";import{P as v}from"./perEnum-60978fa7.js";import{d as G,a6 as t,Z as M,_ as F,l as i,a8 as s,E as I,a7 as N,aa as V}from"./vue-f7f38239.js";import{c as H}from"./index.js";import"./BasicForm.vue_vue_type_script_setup_true_lang-b5fd2c2d.js";import"./antd-bebda08e.js";import"./useForm-d2875f1c.js";import"./uuid-31b8b5a4.js";import"./sortable.esm-4ae27e0b.js";import"./onMountedOrActivated-a837e8fb.js";import"./useWindowSizeFn-01ffbee2.js";import"./index-1b9aa1da.js";import"./useSortable-9ec2a7be.js";import"./download-2647fd8d.js";import"./base64Conver-39fc0d26.js";import"./index-b34be3ab.js";import"./IconPicker.vue_vue_type_script_setup_true_lang-af62677b.js";import"./copyTextToClipboard-ad844e61.js";import"./index-091b1c05.js";import"./account-1d577ee4.js";import"./AclCheckboxGroup-4d795a44.js";const O=G({name:"Group",components:{BasicTable:T,TableAction:y,GroupModal:U,SetAccountModal:w,SetAclModal:D,Authority:P},setup(){const[e,{openModal:r}]=h(),[A,{openModal:S}]=h(),[g,{openModal:b,setModalProps:l}]=h(),[c,{reload:n}]=B({title:"列表",api:E,columns:R,formConfig:{labelWidth:120,schemas:$,showAdvancedButton:!1,showResetButton:!1,autoSubmitOnEnter:!0},canColDrag:!0,useSearchForm:!0,bordered:!0,showIndexColumn:!1,actionColumn:{width:160,title:"操作",dataIndex:"action",fixed:!1}});function u(){r(!0,{isUpdate:!1})}function d(o){b(!0,{record:o,isUpdate:!0}),l({bodyStyle:{padding:"0px",margin:"0px"},width:800,height:400,showOkBtn:!1,cancelText:"关闭"})}function m(o){S(!0,{record:o,isUpdate:!0})}function p(o){r(!0,{record:o,isUpdate:!0})}function f(o){k([o.id]).then(W=>{n()})}function a(){setTimeout(()=>{n()},200)}function C(){setTimeout(()=>{n()},200)}function _(){n()}return{PerEnum:v,registerTable:c,registerModal:e,registerSetAccountModal:A,registerSetAclModal:g,handleCreate:u,handleEdit:p,handleAcl:d,handleAddUser:m,handleDelete:f,handleSuccess:a,handleSetAccountSuccess:C,handleSetAclSuccess:_}}});function L(e,r,A,S,g,b){const l=t("a-button"),c=t("Authority"),n=t("TableAction"),u=t("BasicTable"),d=t("GroupModal"),m=t("SetAccountModal"),p=t("SetAclModal");return M(),F("div",null,[i(u,{onRegister:e.registerTable},{toolbar:s(()=>[i(c,{value:this.$options.name+":"+e.PerEnum.ADD},{default:s(()=>[i(l,{type:"primary",onClick:e.handleCreate},{default:s(()=>[I(" 新增")]),_:1},8,["onClick"])]),_:1},8,["value"])]),bodyCell:s(({column:f,record:a})=>[f.key==="action"?(M(),N(n,{key:0,actions:[{auth:this.$options.name+":"+e.PerEnum.AUTH,tooltip:"分配权限",icon:"ant-design:safety",onClick:e.handleAcl.bind(null,a)},{auth:this.$options.name+":"+e.PerEnum.AUTH,tooltip:"分配用户",icon:"ant-design:user-add",onClick:e.handleAddUser.bind(null,a)},{tooltip:"修改",icon:"clarity:note-edit-line",onClick:e.handleEdit.bind(null,a)},{tooltip:"删除",icon:"ant-design:delete-outlined",color:"error",popConfirm:{title:"是否确认删除",confirm:e.handleDelete.bind(null,a),placement:"left"}}]},null,8,["actions"])):V("",!0)]),_:1},8,["onRegister"]),i(d,{onRegister:e.registerModal,onSuccess:e.handleSuccess},null,8,["onRegister","onSuccess"]),i(m,{onRegister:e.registerSetAccountModal,onSuccess:e.handleSetAccountSuccess},null,8,["onRegister","onSuccess"]),i(p,{onRegister:e.registerSetAclModal,onSuccess:e.handleSetAclSuccess},null,8,["onRegister","onSuccess"])])}const Ce=H(O,[["render",L]]);export{Ce as default};
