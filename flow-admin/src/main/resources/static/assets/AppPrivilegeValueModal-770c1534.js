var M=Object.defineProperty;var p=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var u=(o,t,e)=>t in o?M(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,f=(o,t)=>{for(var e in t||(t={}))I.call(t,e)&&u(o,e,t[e]);if(p)for(var e of p(t))w.call(t,e)&&u(o,e,t[e]);return o};var d=(o,t,e)=>new Promise((c,n)=>{var m=s=>{try{a(e.next(s))}catch(l){n(l)}},i=s=>{try{a(e.throw(s))}catch(l){n(l)}},a=s=>s.done?c(s.value):Promise.resolve(s.value).then(m,i);a((e=e.apply(o,t)).next())});import{B,a as v}from"./index-6bb63bf0.js";import{_ as F}from"./BasicForm.vue_vue_type_script_setup_true_lang-b5fd2c2d.js";import"./BasicForm.vue_vue_type_style_index_0_lang-1d0165cd.js";import{u as P}from"./useForm-d2875f1c.js";import{s as k}from"./appPrivilegeValue-7cf6f865.js";import{d as x,f as y,u as g,c as A,a6 as _,Z as $,a7 as N,a8 as O,l as S,ab as q}from"./vue-f7f38239.js";import{c as R}from"./index.js";const J=[{title:"名称",dataIndex:"name",width:100,align:"left"},{title:"位",dataIndex:"position",width:100},{title:"排序号",dataIndex:"orderNo",width:100},{title:"备注",dataIndex:"remark",width:400,align:"left"}],T=[{field:"id",label:"ID",component:"Input",show:!1},{field:"name",label:"名称",required:!0,component:"Input",rules:[{required:!0,whitespace:!0,message:"名称不能为空！"},{max:32,message:"字符长度不能大于32！"}],colProps:{span:24}},{field:"position",label:"位",required:!0,component:"InputNumber",colProps:{span:24}},{field:"orderNo",label:"排序",required:!0,component:"InputNumber"},{label:"备注",field:"remark",component:"InputTextArea",rules:[{max:200,message:"字符长度不能大于200！"}],colProps:{span:24}}],V=x({name:"AppPrivilegeValueModal",components:{BasicModal:B,BasicForm:F},emits:["success","register"],setup(o,{emit:t}){const e=y(!0),[c,{resetFields:n,setFieldsValue:m,validate:i}]=P({labelWidth:100,schemas:T,showActionButtonGroup:!1}),[a,{setModalProps:s,closeModal:l}]=v(r=>d(this,null,function*(){n(),s({confirmLoading:!1}),e.value=!!(r!=null&&r.isUpdate),g(e)&&m(f({},r.record))})),b=A(()=>g(e)?"修改":"新增");function h(){return d(this,null,function*(){try{s({confirmLoading:!0});const r=yield i(),U=yield k(r);l(),t("success")}finally{s({confirmLoading:!1})}})}return{registerModal:a,registerForm:c,getTitle:b,handleSubmit:h}}});function C(o,t,e,c,n,m){const i=_("BasicForm"),a=_("BasicModal");return $(),N(a,q(o.$attrs,{onRegister:o.registerModal,title:o.getTitle,onOk:o.handleSubmit}),{default:O(()=>[S(i,{onRegister:o.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}const L=R(V,[["render",C]]),K=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"}));export{L as A,K as a,J as c};
