var h=(e,u,n)=>new Promise((s,l)=>{var i=o=>{try{a(n.next(o))}catch(r){l(r)}},c=o=>{try{a(n.throw(o))}catch(r){l(r)}},a=o=>o.done?s(o.value):Promise.resolve(o.value).then(i,c);a((n=n.apply(e,u)).next())});import{_ as L}from"./BasicTable.vue_vue_type_script_setup_true_lang-68f7da80.js";import"./TableImg.vue_vue_type_style_index_0_lang-c025c7d6.js";import{a as T}from"./BasicForm.vue_vue_type_style_index_0_lang-1d0165cd.js";import{u as y}from"./useTable-dd83d9cb.js";import{b as w}from"./index-6bb63bf0.js";import{L as A,g as B,c as k,s as M,d as _}from"./LoginLogModal-4c221f37.js";import{a as S,c as $}from"./index.js";import{P as D}from"./perEnum-60978fa7.js";import{A as R}from"./index-17e4a920.js";import{d as v,a6 as m,Z as b,_ as P,l as d,a8 as p,E as F,a7 as I,aa as N}from"./vue-f7f38239.js";import"./BasicForm.vue_vue_type_script_setup_true_lang-b5fd2c2d.js";import"./antd-bebda08e.js";import"./useForm-d2875f1c.js";import"./uuid-31b8b5a4.js";import"./sortable.esm-4ae27e0b.js";import"./onMountedOrActivated-a837e8fb.js";import"./useWindowSizeFn-01ffbee2.js";import"./index-1b9aa1da.js";import"./useSortable-9ec2a7be.js";import"./download-2647fd8d.js";import"./base64Conver-39fc0d26.js";import"./index-b34be3ab.js";import"./IconPicker.vue_vue_type_script_setup_true_lang-af62677b.js";import"./copyTextToClipboard-ad844e61.js";import"./index-091b1c05.js";const V=v({name:"LoginLog",components:{BasicTable:L,TableAction:T,LoginLogModal:A,Authority:R},setup(){const{createMessage:e,createConfirm:u}=S(),[n,{openModal:s}]=w(),[l,{reload:i,getSelectRows:c}]=y({title:"列表",api:B,columns:k,formConfig:{labelWidth:120,schemas:M,showAdvancedButton:!1,showResetButton:!1,autoSubmitOnEnter:!0},rowSelection:{type:"checkbox",columnWidth:30},canColDrag:!0,useSearchForm:!0,bordered:!0,showIndexColumn:!1,actionColumn:{width:60,title:"操作",dataIndex:"action"}});function a(){s(!0,{isUpdate:!1})}function o(t){s(!0,{record:t,isUpdate:!0})}function r(t){_([t.id]).then(()=>{i()})}function f(){const t=c();if(t&&t.length<=0){e.warn("请选择行！");return}u({iconType:"warning",title:"提示",content:"确定要删除所选行吗？",onOk:()=>h(this,null,function*(){const C=t.map(E=>E.id);yield _(C).then(()=>{i()})})})}function g(){i()}return{PerEnum:D,registerTable:l,registerModal:n,handleCreate:a,handleEdit:o,handleDelete:r,handleDeleteAll:f,handleSuccess:g}}});function x(e,u,n,s,l,i){const c=m("a-button"),a=m("Authority"),o=m("TableAction"),r=m("BasicTable"),f=m("LoginLogModal");return b(),P("div",null,[d(r,{onRegister:e.registerTable},{toolbar:p(()=>[d(a,{value:this.$options.name+":"+e.PerEnum.DELETE},{default:p(()=>[d(c,{type:"danger",onClick:e.handleDeleteAll},{default:p(()=>[F(" 删除")]),_:1},8,["onClick"])]),_:1},8,["value"])]),bodyCell:p(({column:g,record:t})=>[g.key==="action"?(b(),I(o,{key:0,actions:[{tooltip:"删除",auth:this.$options.name+":"+e.PerEnum.DELETE,icon:"ant-design:delete-outlined",color:"error",popConfirm:{title:"是否确认删除",confirm:e.handleDelete.bind(null,t)}}]},null,8,["actions"])):N("",!0)]),_:1},8,["onRegister"]),d(f,{onRegister:e.registerModal,onSuccess:e.handleSuccess},null,8,["onRegister","onSuccess"])])}const de=$(V,[["render",x]]);export{de as default};
