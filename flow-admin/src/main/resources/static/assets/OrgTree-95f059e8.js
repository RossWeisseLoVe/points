var f=(o,c,t)=>new Promise((r,n)=>{var l=e=>{try{a(t.next(e))}catch(i){n(i)}},s=e=>{try{a(t.throw(e))}catch(i){n(i)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(l,s);a((t=t.apply(o,c)).next())});import{_ as u}from"./index-f9546e03.js";import{a as _}from"./dept-92794b55.js";import{bF as h,c as v}from"./index.js";import{G as g}from"./antd-bebda08e.js";import{d as T,f as d,o as B,x as D,u as m,a6 as b,q as k,n as S,Z as $,_ as w,l as y}from"./vue-f7f38239.js";import"./useContextMenu-b66322cd.js";const C=T({name:"OrgTree",components:{BasicTree:u,Spin:g},emits:["select"],setup(o,{emit:c}){const t=d([]),r=d(!1),n=d(null);function l(){return f(this,null,function*(){r.value=!0,_().then(a=>{t.value=a,D(()=>{var e;m(t).length<10&&((e=m(n))==null||e.filterByLevel(1))})}).finally(()=>{r.value=!1})})}function s(a,e){const i=h(t.value,p=>p.id===a[0],{id:"id",pid:"pid",children:"children"});c("select",i)}return B(()=>{l()}),{treeData:t,treeLoading:r,basicTreeRef:n,handleSelect:s}}}),E={class:"org-tree bg-white m-4 mr-0 overflow-hidden"};function x(o,c,t,r,n,l){const s=b("BasicTree"),a=k("loading");return S(($(),w("div",E,[y(s,{title:"组织",toolbar:"",search:"",clickRowToExpand:!1,treeData:o.treeData,replaceFields:{key:"id",title:"shortName"},onSelect:o.handleSelect,ref:"basicTreeRef"},null,8,["treeData","onSelect"])])),[[a,o.treeLoading]])}const M=v(C,[["render",x]]);export{M as default};
