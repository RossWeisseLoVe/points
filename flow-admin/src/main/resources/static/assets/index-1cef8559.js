import{_ as T}from"./BasicTable.vue_vue_type_script_setup_true_lang-68f7da80.js";import"./TableImg.vue_vue_type_style_index_0_lang-c025c7d6.js";import{a as y}from"./BasicForm.vue_vue_type_style_index_0_lang-1d0165cd.js";import{u as S}from"./useTable-dd83d9cb.js";import{g as w,d as B}from"./jobGrade-6d36c665.js";import{P as M}from"./index-5a8cda67.js";import J from"./JobGradeTypeList-0330e383.js";import{b as E}from"./index-6bb63bf0.js";import{J as G,c as k,s as P}from"./JobGradeModal-45fb83ee.js";import{a as x,c as I}from"./index.js";import{d as $,f as A,u as b,a6 as a,Z as _,a7 as C,a8 as r,l as i,E as F,aa as R}from"./vue-f7f38239.js";import{P as v}from"./antd-bebda08e.js";import"./BasicForm.vue_vue_type_script_setup_true_lang-b5fd2c2d.js";import"./useForm-d2875f1c.js";import"./uuid-31b8b5a4.js";import"./sortable.esm-4ae27e0b.js";import"./onMountedOrActivated-a837e8fb.js";import"./useWindowSizeFn-01ffbee2.js";import"./index-1b9aa1da.js";import"./useSortable-9ec2a7be.js";import"./download-2647fd8d.js";import"./base64Conver-39fc0d26.js";import"./index-b34be3ab.js";import"./IconPicker.vue_vue_type_script_setup_true_lang-af62677b.js";import"./copyTextToClipboard-ad844e61.js";import"./index-091b1c05.js";import"./useContentViewHeight-4f74c208.js";import"./index-f9546e03.js";import"./useContextMenu-b66322cd.js";import"./jobGradeType-e57de368.js";import"./constantEnum-c819fa5f.js";const{createMessage:N}=x(),W=$({name:"JobGrade",components:{BasicTable:T,PageWrapper:M,JobGradeTypeList:J,JobGradeModal:G,TableAction:y,Popconfirm:v},setup(){const[e,{openModal:s,setModalProps:l}]=E(),t=A({}),[h,{reload:c}]=S({title:"列表",api:w,immediate:!1,columns:k,formConfig:{labelWidth:120,schemas:P,showAdvancedButton:!1,showResetButton:!1,autoSubmitOnEnter:!0},canColDrag:!0,useSearchForm:!0,bordered:!0,pagination:!1,showIndexColumn:!1,actionColumn:{width:100,title:"操作",dataIndex:"action",fixed:!1}});function m(){if(!b(t).code){N.warning("请选择分类！",2);return}l({title:"新增职级"}),s(!0,{record:{typeId:b(t).id,typeCode:b(t).code},isUpdate:!0})}function p(o){l({title:"修改职级"}),s(!0,{record:o,isUpdate:!0})}function d(o){B([o.id]).then(()=>{c()})}function u(){setTimeout(()=>{n(t.value)},200)}function n(o){t.value=o;let f={typeId:o?o.id:""};c({searchInfo:f})}return{registerTable:h,registerModal:e,handleCreate:m,handleEdit:p,handleDelete:d,handleSuccess:u,handleSelect:n}}});function D(e,s,l,t,h,c){const m=a("JobGradeTypeList"),p=a("a-button"),d=a("TableAction"),u=a("BasicTable"),n=a("JobGradeModal"),o=a("PageWrapper");return _(),C(o,{dense:"",contentFullHeight:"",fixedHeight:"",contentClass:"flex"},{default:r(()=>[i(m,{class:"w-1/4 xl:w-1/5",onSelect:e.handleSelect},null,8,["onSelect"]),i(u,{onRegister:e.registerTable,class:"w-3/4 xl:w-4/5"},{toolbar:r(()=>[i(p,{type:"primary",onClick:e.handleCreate},{default:r(()=>[F("新增")]),_:1},8,["onClick"])]),bodyCell:r(({column:f,record:g})=>[f.key==="action"?(_(),C(d,{key:0,actions:[{tooltip:"修改",icon:"clarity:note-edit-line",onClick:e.handleEdit.bind(null,g)},{tooltip:"删除",icon:"ant-design:delete-outlined",color:"error",popConfirm:{title:"是否确认删除",confirm:e.handleDelete.bind(null,g),placement:"left"}}]},null,8,["actions"])):R("",!0)]),_:1},8,["onRegister"]),i(n,{onRegister:e.registerModal,onSuccess:e.handleSuccess},null,8,["onRegister","onSuccess"])]),_:1})}const _e=I(W,[["render",D]]);export{_e as default};
