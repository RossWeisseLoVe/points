var b=(s,c,l)=>new Promise((f,m)=>{var g=n=>{try{r(l.next(n))}catch(o){m(o)}},u=n=>{try{r(l.throw(n))}catch(o){m(o)}},r=n=>n.done?f(n.value):Promise.resolve(n.value).then(g,u);r((l=l.apply(s,c)).next())});import{_ as B}from"./BasicForm.vue_vue_type_script_setup_true_lang-b5fd2c2d.js";import"./BasicForm.vue_vue_type_style_index_0_lang-1d0165cd.js";import{u as y}from"./useForm-d2875f1c.js";import{C as U,l as A,a as L,c as w}from"./index.js";import{C as E}from"./index-091b1c05.js";import{h as k}from"./header-55b09394.js";import{a as P}from"./account-57e5abfe.js";import{b as S}from"./data-23d455fd.js";import{u as M}from"./upload-94aa82ef.js";import{au as $,at as I,aH as V,B as R,U as x,V as J}from"./antd-bebda08e.js";import{d as N,f as O,o as D,c as G,a6 as p,Z as _,a7 as j,a8 as t,l as e,$ as a,_ as v,E as z}from"./vue-f7f38239.js";import{_ as h}from"./tooltip-app-name-0d16fdaa.js";import"./index-6bb63bf0.js";import"./useWindowSizeFn-01ffbee2.js";import"./index-1b9aa1da.js";import"./uuid-31b8b5a4.js";import"./useSortable-9ec2a7be.js";import"./download-2647fd8d.js";import"./base64Conver-39fc0d26.js";import"./index-b34be3ab.js";import"./IconPicker.vue_vue_type_script_setup_true_lang-af62677b.js";import"./copyTextToClipboard-ad844e61.js";const H=N({components:{BasicForm:B,PlusOutlined:$,Upload:I,Popover:V,CollapseContainer:U,Button:R,ARow:x,ACol:J,CropperAvatar:E},setup(){const{createMessage:s}=L(),c=A(),l=O(),[f,{setFieldsValue:m}]=y({labelWidth:120,schemas:S,showActionButtonGroup:!1});D(()=>b(this,null,function*(){const o=yield P();m(o)}));const g=G(()=>{const{avatar:o}=c.getUserInfo;return o||k});function u(o){const i=c.getUserInfo;i.avatar=o,c.setUserInfo(i)}const r=(o,i)=>{const d=new FileReader;d.addEventListener("load",()=>i(d.result)),d.readAsDataURL(o)};return{avatar:g,register:f,beforeUpload:o=>o.type==="image/jpeg"||o.type==="image/png"?o.size/1024/1024<2?(r(o,F=>{imageUrl.value=F}),!1):(s.error("图片不能大于2MB！"),!1):(s.error("只允许上传JPG图片！"),!1),appLogo:l,uploadApi:M,updateAvatar:u,handleSubmit:()=>{s.success("更新成功！")}}}});const T=a("div",{class:"tooltip-popover-content"},[a("img",{src:h})],-1),W=a("div",{class:"mb-2 mt-4"},"登录页面标题",-1),Z=a("div",{class:"tooltip-popover-content"},[a("img",{src:h})],-1),q=a("div",{class:"mb-2 mt-4"},"登录页面副标题",-1),K=a("div",{class:"tooltip-popover-content"},[a("img",{src:h})],-1),Q={class:"change-logo"},X=a("div",{class:"mb-2 mt-4"},"登录页图片",-1),Y=["src"],oo={key:1},to=a("div",{class:"ant-upload-text"},"上传",-1),eo=a("div",{class:"tooltip-popover-content"},[a("img",{src:h})],-1),ao={class:"change-logo"},so=a("div",{class:"mb-2 mt-4"},"登录页面背景图",-1),no=["src"],ro={key:1},io=a("div",{class:"ant-upload-text"},"上传",-1);function po(s,c,l,f,m,g){const u=p("a-input"),r=p("a-col"),n=p("Popover"),o=p("plus-outlined"),i=p("Upload"),d=p("a-row"),F=p("Button"),C=p("CollapseContainer");return _(),j(C,{title:"登录页配置",canExpan:!1},{default:t(()=>[e(d,{gutter:24},{default:t(()=>[e(n,{placement:"right"},{content:t(()=>[T]),default:t(()=>[e(r,{span:13},{default:t(()=>[W,e(u)]),_:1})]),_:1}),e(n,{placement:"right"},{content:t(()=>[Z]),default:t(()=>[e(r,{span:13},{default:t(()=>[q,e(u)]),_:1})]),_:1}),e(n,{placement:"right"},{content:t(()=>[K]),default:t(()=>[e(r,{span:13},{default:t(()=>[a("div",Q,[X,e(i,{style:{margin:"auto"},name:"avatar","list-type":"picture-card",class:"login-box-uploader","show-upload-list":!1,"before-upload":s.beforeUpload,multiple:!1},{default:t(()=>[s.appLogo?(_(),v("img",{key:0,src:s.appLogo,alt:"avatar"},null,8,Y)):(_(),v("div",oo,[e(o),to]))]),_:1},8,["before-upload"])])]),_:1})]),_:1}),e(n,{placement:"right"},{content:t(()=>[eo]),default:t(()=>[e(r,{span:13},{default:t(()=>[a("div",ao,[so,e(i,{style:{margin:"auto"},name:"avatar","list-type":"picture-card",class:"login-bg-uploader","show-upload-list":!1,"before-upload":s.beforeUpload,multiple:!1},{default:t(()=>[s.appLogo?(_(),v("img",{key:0,src:s.appLogo,alt:"avatar"},null,8,no)):(_(),v("div",ro,[e(o),io]))]),_:1},8,["before-upload"])])]),_:1})]),_:1})]),_:1}),e(F,{type:"primary",onClick:s.handleSubmit},{default:t(()=>[z(" 更新基本信息 ")]),_:1},8,["onClick"])]),_:1})}const $o=w(H,[["render",po]]);export{$o as default};
