import{P as U}from"./index-5a8cda67.js";import{_ as w}from"./BasicTable.vue_vue_type_script_setup_true_lang-68f7da80.js";import"./TableImg.vue_vue_type_style_index_0_lang-c025c7d6.js";import{a as E}from"./BasicForm.vue_vue_type_style_index_0_lang-1d0165cd.js";import{u as k}from"./useTable-dd83d9cb.js";import{S as O,g as A,c as D,s as M,d as P}from"./SystemConfigModal-5f1529b3.js";import{a as S,c as N}from"./index.js";import{b as I}from"./index-6bb63bf0.js";import{d as L,f as R,a6 as p,Z as l,a7 as $,a8 as o,l as e,E as _,_ as r,aa as T,$ as n}from"./vue-f7f38239.js";import{au as V,al as W,U as J,V as G,at as j}from"./antd-bebda08e.js";import"./useContentViewHeight-4f74c208.js";import"./useWindowSizeFn-01ffbee2.js";import"./onMountedOrActivated-a837e8fb.js";import"./BasicForm.vue_vue_type_script_setup_true_lang-b5fd2c2d.js";import"./useForm-d2875f1c.js";import"./uuid-31b8b5a4.js";import"./sortable.esm-4ae27e0b.js";import"./index-1b9aa1da.js";import"./useSortable-9ec2a7be.js";import"./download-2647fd8d.js";import"./base64Conver-39fc0d26.js";import"./index-b34be3ab.js";import"./IconPicker.vue_vue_type_script_setup_true_lang-af62677b.js";import"./copyTextToClipboard-ad844e61.js";import"./index-091b1c05.js";import"./constantEnum-c819fa5f.js";const z=L({name:"SystemConfig",components:{PlusOutlined:V,LoadingOutlined:W,Row:J,Col:G,Upload:j,BasicTable:w,TableAction:E,SystemConfigModal:O,PageWrapper:U},setup(){const[t,{openModal:c}]=I(),g=R(""),{createMessage:h}=S(),[C,{reload:m}]=k({title:"列表",api:A,columns:D,formConfig:{labelWidth:120,schemas:M,showAdvancedButton:!1,showResetButton:!1,autoSubmitOnEnter:!0},canColDrag:!0,useSearchForm:!0,bordered:!0,showIndexColumn:!0,actionColumn:{width:100,title:"操作",dataIndex:"action",slots:{customRender:"action"},fixed:!1}});function s(){c(!0,{isUpdate:!1})}function u(a){c(!0,{record:a,isUpdate:!0})}const i=(a,F)=>{const f=new FileReader;f.addEventListener("load",()=>F(f.result)),f.readAsDataURL(a)};function d(a){a={pid:a.id},c(!0,{record:a,isUpdate:!0})}function y(a){P([a.id]).then(()=>{m()})}const b=a=>a.type==="image/jpeg"||a.type==="image/png"?a.size/1024/1024<2?(i(a,x=>{g.value=x}),!1):(h.error("图片不能大于2MB！"),!1):(h.error("只允许上传JPG图片！"),!1);function B(){m()}function v(){setTimeout(()=>{m()},200)}return{beforeUpload:b,registerTable:C,registerModal:t,handleCreate:s,handleEdit:u,handleCreateChild:d,handleDelete:y,handleSuccess:v,doSearch:B,imageUrl:g}}});const Z=["src"],q=["src"],H={key:1},K=n("div",{class:"ant-upload-text"},"上传ICON",-1),Q=["src"],X={key:1},Y=n("div",{class:"ant-upload-text"},"上传ICON",-1),ee=["src"],ae={key:1},te=n("div",{class:"ant-upload-text"},"上传ICON",-1),oe=n("br",null,null,-1),se=n("br",null,null,-1),le=n("br",null,null,-1);function re(t,c,g,h,C,m){const s=p("Col"),u=p("plus-outlined"),i=p("Upload"),d=p("Row"),y=p("PageWrapper");return l(),$(y,{title:"系统配置",contentBackground:"",content:"",contentClass:"p-4 "},{default:o(()=>[e(d,{type:"flex",style:{"flex-wrap":"nowrap"}},{default:o(()=>[e(s,{flex:"150px"},{default:o(()=>[_("网站ICON设置：")]),_:1}),e(s,{flex:"auto",class:"icon-box"},{default:o(()=>[t.imageUrl?(l(),r("img",{key:0,src:t.imageUrl,alt:"avatar"},null,8,Z)):T("",!0),e(i,{style:{margin:"auto"},name:"avatar","list-type":"picture-card",class:"avatar-uploader","show-upload-list":!1,"before-upload":t.beforeUpload,multiple:!1},{default:o(()=>[t.imageUrl?(l(),r("img",{key:0,src:t.imageUrl,alt:"avatar"},null,8,q)):(l(),r("div",H,[e(u),K]))]),_:1},8,["before-upload"])]),_:1})]),_:1}),e(d,{type:"flex",style:{"flex-wrap":"nowrap"}},{default:o(()=>[e(s,{flex:"150px"},{default:o(()=>[_("系统LOGO设置：")]),_:1}),e(s,{flex:"auto",class:"icon-box"},{default:o(()=>[e(i,{style:{margin:"auto"},name:"avatar","list-type":"picture-card",class:"avatar-uploader","show-upload-list":!1,"before-upload":t.beforeUpload,multiple:!1},{default:o(()=>[t.imageUrl?(l(),r("img",{key:0,src:t.imageUrl,alt:"avatar"},null,8,Q)):(l(),r("div",X,[e(u),Y]))]),_:1},8,["before-upload"])]),_:1})]),_:1}),e(d,{type:"flex",style:{"flex-wrap":"nowrap"}},{default:o(()=>[e(s,{flex:"150px"},{default:o(()=>[_("登录页背景设置：")]),_:1}),e(s,{flex:"auto",class:"icon-box"},{default:o(()=>[e(i,{style:{margin:"auto"},name:"avatar","list-type":"picture-card",class:"avatar-uploader","show-upload-list":!1,"before-upload":t.beforeUpload,multiple:!1},{default:o(()=>[t.imageUrl?(l(),r("img",{key:0,src:t.imageUrl,alt:"avatar"},null,8,ee)):(l(),r("div",ae,[e(u),te]))]),_:1},8,["before-upload"])]),_:1})]),_:1}),oe,se,le,_(" 系统名称 ")]),_:1})}const Pe=N(z,[["render",re]]);export{Pe as default};
