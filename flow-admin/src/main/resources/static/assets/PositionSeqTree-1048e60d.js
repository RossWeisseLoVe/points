var f=(n,c,t)=>new Promise((a,s)=>{var l=e=>{try{o(t.next(e))}catch(r){s(r)}},i=e=>{try{o(t.throw(e))}catch(r){s(r)}},o=e=>e.done?a(e.value):Promise.resolve(e.value).then(l,i);o((t=t.apply(n,c)).next())});import{_ as u}from"./index-f9546e03.js";import{bF as _,c as h}from"./index.js";import{g as v}from"./positionSeq-6b342567.js";import{G as T}from"./antd-bebda08e.js";import{d as g,f as d,o as S,x as D,u as m,a6 as B,q as b,n as k,Z as $,_ as q,l as w}from"./vue-f7f38239.js";import"./useContextMenu-b66322cd.js";const y=g({name:"PositionSeqTree",components:{BasicTree:u,Spin:T},emits:["select"],setup(n,{emit:c}){const t=d([]),a=d(!1),s=d(null);function l(){return f(this,null,function*(){a.value=!0,v().then(o=>{t.value=o,D(()=>{var e;m(t).length<10&&((e=m(s))==null||e.filterByLevel(1))})}).finally(()=>{a.value=!1})})}function i(o,e){const r=_(t.value,p=>p.id===o[0],{id:"id",pid:"pid",children:"children"});c("select",r)}return S(()=>{l()}),{treeData:t,treeLoading:a,basicTreeRef:s,handleSelect:i}}}),F={class:"bg-white m-4 mr-0 overflow-hidden"};function x(n,c,t,a,s,l){const i=B("BasicTree"),o=b("loading");return k(($(),q("div",F,[w(i,{title:"岗位序列",toolbar:"",search:"",clickRowToExpand:!1,treeData:n.treeData,replaceFields:{key:"id",title:"name"},onSelect:n.handleSelect,ref:"basicTreeRef"},null,8,["treeData","onSelect"])])),[[o,n.treeLoading]])}const M=h(y,[["render",x]]);export{M as default};
